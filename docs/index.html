<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Tiler</title>
  <link rel="stylesheet" type="text/css" href="https://davidfmiller.github.io/man/man.css">
  <link rel="stylesheet" type="text/css" href="tiler.css">
  <style>

    .rmr-tiler {
      width: 600px;
      height: 600px;
      margin: 0 auto;
/*      transition: background 0.5s linear; */
      background: #eee;
    }

    .rmr-tiler.init {

    }

    .rmr-tiler figure {
      background-size: 100%;
    }

    .t0 { background: #be0712 }
    .t1 { background: #fc361d }
    .t2 { background: #f270b7 }
    .t3 { background: #f9c5e2 }
    .t4 { background: #dedffe }
    .t5 { background: #fd812b }
    .t6 { background: #fecb2f }
    .t7 { background: #fffe9f }
    .t8 { background: #651297 }
    .t9 { background: #6869c9 }
    .t10 { background: #9f41d6 }
    .t11 { background: #19ac1c }
    .t12 { background: #6dfd46 }
    .t13 { background: #030d83 }
    .t14 { background: #030d83 }

    form {
      border: 1px solid #ddd;
      border-radius: 5px;
      display: inline-block;
      padding: 10px;
    }

    fieldset {
      border: none;
      padding: 0;
    }

    legend {
      display: none;
    }

    input[type=number] {
      border: none;
      width: 30px;
    }

    label {
      display: block;
    }

  </style>
</head>
<body>

<h1>Tiler</h1>

<p>Tiler is a simple JavaScript &amp; CSS library for creating a gallery of rotating tiled content.</p>

<div id="tiles"></div>

<p>
  
</p>

<form action="" method="GET">
  <fieldset>
    <legend>Modify tiler&rsquo;s arguments:</legend>
    <!--
      <select>
    
      </select>
    -->
    <label>Scale:
      <input type="number" name="scale" value="4" min="1" max="10">
    </label>
    <label><input type="checkbox" name="zoom" value="1" checked> Zoom</label>
    <label><input type="checkbox" name="auto-start" value="1" checked> Auto-start</label>
    <label><input type="checkbox" name="constrain" value="1" checked> Constrain</label>
    <button type="submit" name="toggle">Toggle auto-flip</button>
  </fieldset>
</form>


<p>View the <a href="https://github.com/davidfmiller/tiler/tree/master/src">source</a></p>

<hr>

<p>Built by <a href="http://readmeansrun.com" title="READMEANSRUN">RMR</a>, hosted on <a href="https://github.com/davidfmiller/tiler" title="GitHub">GitHub</a></p>

</body>

<script src="tiler.js"></script>
<script>
document.addEventListener('DOMContentLoaded', function(event) { 

  var
  i = 0,
  inputs = document.querySelectorAll('input'),
  tile = null,
  render = function() {

    if (tile != null) {
      tile.destroy();
    }

    tile = new Tiler({
      root: '#tiles',
      scale: parseInt(document.querySelector('input[name=scale]').value, 10),
      autoStart : document.querySelector('input[name=auto-start]').checked,
      zoom: document.querySelector('input[name=zoom]').checked,
      constrain: document.querySelector('input[name=constrain]').checked,
      data : [
      't0',
      't1',
      't2',
      't3',
      't4',
      't5',
      't6',
      't7',
      't8',
      't9',
      't10',
      't11',
      't12',
      't13',
      't14'
    ],
    events : {
      'flip' : function(index, back, front) { console.log('flipping from ' + back + ' to ' + front + ' on tile #' + index) },
      'click' : function(index, id) { console.log('click: ' + id + ' on tile #' + index); },
      'hover' : function(index, id) { console.log(id ? 'mouse enter:' + id + ' on tile #' + index : 'mouse exit'); }
    },
    interval : 1000 } );
  };

  render();

  document.querySelector('form').addEventListener('submit', function(event) {
    event.preventDefault();
    if (tile) {
      tile.toggle();
    }
  });

  for (; i < inputs.length; i++) {
    inputs.item(i).addEventListener('change', function(event) {
      render();
    });
  }
});

</script>
</html>
